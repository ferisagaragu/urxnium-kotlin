"use strict";(self.webpackChunkqr_signin=self.webpackChunkqr_signin||[]).push([[794],{9794:(Q,m,n)=>{n.r(m),n.d(m,{DeviceModule:()=>J});var s=n(8583),u=n(3738),v=n(4885),p=n(9983),a=n(8295),f=n(1095),c=n(665),d=n(8741),e=n(3018),g=n(3372);function h(o,i){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El correo electr\xf3nico es requerido "),e.qZA())}function Z(o,i){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El correo electr\xf3nico no es valido "),e.qZA())}function C(o,i){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El correo electr\xf3nico no esta registrado "),e.qZA())}function T(o,i){1&o&&e._UZ(0,"em",9)}function A(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h2"),e._uU(2,"Cambia el dispositivo de inicio de sesi\xf3n"),e.qZA(),e.TgZ(3,"div",3),e._uU(4," Ay\xfadanos a recuperar tu cuenta. Para eso necesitamos identificar tu identidad envi\xe1ndote un correo para realizar el cambio de dispositivo. "),e.qZA(),e.TgZ(5,"mat-form-field",4),e.TgZ(6,"mat-label"),e._uU(7,"Correo electr\xf3nico"),e.qZA(),e._UZ(8,"input",5),e.YNc(9,h,2,0,"mat-error",2),e.YNc(10,Z,2,0,"mat-error",2),e.YNc(11,C,2,0,"mat-error",2),e.qZA(),e.TgZ(12,"div",6),e.TgZ(13,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().onRecover()}),e.YNc(14,T,1,0,"em",8),e._uU(15," Recuperar mi cuenta "),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(8),e.Q6J("formControl",t.email),e.xp6(1),e.Q6J("ngIf",t.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",t.email.hasError("email")),e.xp6(1),e.Q6J("ngIf",t.email.hasError("invalid")),e.xp6(2),e.Q6J("disabled",t.load),e.xp6(1),e.Q6J("ngIf",t.load)}}function F(o,i){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"div",10),e._uU(2," Hemos enviado un correo electr\xf3nico a "),e.TgZ(3,"strong"),e._uU(4),e.qZA(),e._uU(5,", te pedimos que sigas los pasos descritos en el correo electr\xf3nico para cambiar tu dispositivo. "),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(4),e.Oqu(t.email.value)}}let _=(()=>{class o{constructor(t){this.userService=t,this.email=new c.NI("",[c.kI.email,c.kI.required]),this.sent=!1,this.load=!1}onRecover(){this.email.invalid||(this.load=!0,this.email.disable(),this.userService.recoverQRAccount(this.email.value).subscribe(t=>{this.sent=!0,this.load=!1,this.email.enable()},t=>{this.load=!1,this.email.enable(),this.email.setErrors({invalid:"error"})}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-form-change-device"]],decls:5,vars:2,consts:[[1,"space"],[1,"card-space"],[4,"ngIf"],[1,"info"],["appearance","outline",1,"w-100","margin-top"],["matInput","","required","",3,"formControl"],[1,"button-position"],["mat-stroked-button","","color","accent",3,"disabled","click"],["class","mdi mdi-spin mdi-loading",4,"ngIf"],[1,"mdi","mdi-spin","mdi-loading"],[1,"success-not-bottom"]],template:function(t,r){1&t&&(e._UZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"mat-card"),e.YNc(3,A,16,6,"div",2),e.YNc(4,F,6,1,"div",2),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",!r.sent),e.xp6(1),e.Q6J("ngIf",r.sent))},directives:[u.a8,s.O5,a.KE,a.hX,p.Nt,c.Fj,c.Q7,c.JJ,c.oH,f.lW,a.TO],styles:[""]}),o})();var x=n(1338);function U(o,i){1&o&&e._UZ(0,"mat-spinner",3)}function q(o,i){if(1&o&&(e.TgZ(0,"div",4),e.TgZ(1,"mat-card"),e.TgZ(2,"h2"),e._uU(3,"Tu c\xf3digo de inicio de sesi\xf3n es:"),e.qZA(),e.TgZ(4,"div",5),e._uU(5),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.hij(" ",t.code," ")}}function D(o,i){1&o&&(e.TgZ(0,"div",4),e.TgZ(1,"mat-card"),e.TgZ(2,"div",6),e._uU(3," Hubo un problema al recuperar tu cuenta. Esto puede ser debido a que el proceso de recuperaci\xf3n no se completo correctamente, te pedimos sigas nuevamente los pasos para recuperar tu cuenta. "),e.qZA(),e.qZA(),e.qZA())}const I=[{path:"change-email",component:_},{path:"recover/:activatePassword",component:(()=>{class o{constructor(t,r){this.activatedRoute=t,this.userService=r,this.code="",this.error=!1,this.load=!1}ngOnInit(){const t=(new x.DeviceUUID).get();this.load=!0,this.activatedRoute.params.subscribe(r=>{this.userService.changeQREmail({activatePassword:r.activatePassword,deviceUuid:t}).subscribe(l=>{this.code=l,this.load=!1},l=>{this.error=!0,this.load=!1})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.gz),e.Y36(g.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-recover-account"]],decls:4,vars:3,consts:[[1,"space"],["strokeWidth","5","color","accent",4,"ngIf"],["class","card-space",4,"ngIf"],["strokeWidth","5","color","accent"],[1,"card-space"],[1,"code"],[1,"error"]],template:function(t,r){1&t&&(e._UZ(0,"div",0),e.YNc(1,U,1,0,"mat-spinner",1),e.YNc(2,q,6,1,"div",2),e.YNc(3,D,4,0,"div",2)),2&t&&(e.xp6(1),e.Q6J("ngIf",r.load),e.xp6(1),e.Q6J("ngIf",!r.load&&!r.error),e.xp6(1),e.Q6J("ngIf",!r.load&&r.error))},directives:[s.O5,v.$g,u.a8],styles:[""]}),o})()}];let R=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.Bz.forChild(I)],d.Bz]}),o})(),J=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[s.ez,R,u.QW,p.c,a.lN,v.Cq,f.ot,c.UX]]}),o})()}}]);